@model IEnumerable<Food_Collection_And_Supply.Database.User>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="container">
    <br />
    <br />
    <div class="card">

        <div class="card-body">

            <table id="tbl" class="table" data-table saw-mode="swipe">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Address</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                    <tr>

                        <td>@item.FirstName</td>
                        <td>@item.LastName</td>
                        <td>@item.Email</td>
                        <td>@item.PhoneNo</td>
                        <td>@item.Address</td>
                        <td>
                            <a style="cursor:pointer;" class="btn btn-primary btn-sm" title="delete" href="/Home/UpdateUser?Id=@item.Id">Update</a>

                            <a style="cursor:pointer;" class="btn btn-danger btn-sm" title="delete" onclick="DeleteUser('@item.Id')">Delete</a>
                        </td>
                        


                    </tr>

                    }

                </tbody>
            </table>
        </div>
    </div>
</div>


@section scripts{
    <script>
        $(document).ready(function () {
          
            $("#tbl").DataTable()

        });

        var DeleteUser = function (id) {
            swal({
                title: 'Are you sure?',
                text: "You would not able to revert this!",
                type: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, Delete it!'
            }).then(function () {


                $.ajax({
                    url: "/Home/DeleteUser",
                    type: "POST",
                    data: { id: id },
                    success: function (res) {
                        if (res == "Deleted") {

                            swal({
                                title: "Deleted", text: "Deleted!", type: "success"
                            }).then(function () {
                                location.reload();
                            });
                        }

                        else {
                            swal('Deleted!', "Something Wrong !", 'error');
                        }
                    }
                })

            })

        }
        var EditUser = function (id) {
            swal({
                title: "success", text: "Development In Progress!", type: "success"
            }).then(function () {
                location.reload();
            });

        }

    </script>
    }